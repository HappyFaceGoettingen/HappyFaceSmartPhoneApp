angular.module("hf.CtrlSideMenu",[]).controller("CtrlSideMenu",["FacUIVariables","FacInstances","FacRequest","$scope","$ionicNavBarDelegate","$ionicSideMenuDelegate","$ionicScrollDelegate","$ionicModal","$state","$timeout",function(e,t,n,r,i,s,o,u,a,f){r.sideMenuEnabled=function(){return e.getSideMenuEnabled()};r.goBack=function(){i.back();f(function(){if(a.is("sidemenu.categories")){e.setSideMenuEnabled(true)}})};u.fromTemplateUrl("templates/new-instance.html",function(e){r.instanceModal=e},{scope:r,animation:"slide-in-up"});u.fromTemplateUrl("templates/about.html",function(e){r.impressumModal=e},{scope:r,animation:"slide-in-right"});u.fromTemplateUrl("templates/settings.html",function(e){r.settingsModal=e},{scope:r,animation:"slide-in-up"});r.showModal=function(e){switch(e){case"instance":r.instanceModal.show();break;case"impressum":r.impressumModal.show();break;case"settings":r.settingsModal.show();break}};r.instances=function(){return t.all()};r.activeInstance=function(){return t.getLastActiveInstance()};r.selectInstance=function(r){n.cancel();t.setLastActiveInstance(r);s.toggleLeft();o.scrollTop(false);o.resize();e.setTimeOutIsGreyedOut(t.getLastActiveInstance().lastRefreshed);t.conditionalRefresh();console.log(r+" selected")};r.removeInstance=function(e){t.removeInstance(e);if(e==r.activeInstance()||r.instances().length==0){t.setLastActiveInstance(-1)}}}])