angular.module("hf.CtrlModalNewInstance",[]).controller("CtrlModalNewInstance",["FacInstances","FacPopup","$scope","$ionicActionSheet",function(e,t,n,r){function i(e){var t=new RegExp("^(https?:\\/\\/)?"+"((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|"+"((\\d{1,3}\\.){3}\\d{1,3}))"+"(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*"+"(\\?[;&a-z\\d%_.~+=-]*)?"+"(\\#[-a-z\\d_]*)?$","i");if(!t.test(e)){return false}else{return true}}n.instance={title:"",url:"",webServiceUrl:""};n.createInstance=function(r,s){if(i(r.url)){e.createInstance(r,s);r.title="";r.url="";r.webServiceUrl="";n.closeThisModal()}else{t.showPopupByName("invalidUrl")}};n.addPresetInstance=function(){r.show({titleText:"Add Preset Instance",buttons:[{text:"GoeGrid"},{text:"KIT T1"},{text:"KIT T3"},{text:"CMS T1"},{text:"Belle"}],cancelText:"Cancel",cancel:function(){},buttonClicked:function(t){switch(t){case 0:e.createInstance({title:"GoeGrid",url:"http://happyface-goegrid.gwdg.de/category?action=getxml",webServiceUrl:"http://happyface-goegrid.gwdg.de/webservice/"},true);n.closeThisModal();break;case 1:e.createInstance({title:"KIT T1",url:"http://ekphappyface.physik.uni-karlsruhe.de/~happyface/gridka/webpage/?action=getxml"},true);n.closeThisModal();break;case 2:e.createInstance({title:"KIT T3",url:"http://ekphappyface.physik.uni-karlsruhe.de/~happyface/t3-kit/webpage/?action=getxml"},true);n.closeThisModal();break;case 3:e.createInstance({title:"CMS T1 Production Monitoring",url:"http://ekphappyface.physik.uni-karlsruhe.de/~happyface/cmst1prodmon/webpage/?action=getxml"},true);n.closeThisModal();break;case 4:e.createInstance({title:"Belle",url:"http://ekphappyface.physik.uni-karlsruhe.de/HappyFace/belle/category?action=getxml"},true);n.closeThisModal();break}return true}})};n.closeThisModal=function(){n.instanceModal.hide()}}])